# 대량 데이터 테스트: 엑셀과 스크립트를 활용해 1만 건의 테스트 데이터 한 번에 만들기

성능 테스트나 대량 목록 조회, 페이징 처리를 검증할 때 데이터 1~2개로는 부족합니다. 실제 운영 환경과 유사한 1만 건 이상의 데이터가 들어갔을 때 시스템이 어떻게 반응하는지 확인하는 것은 매우 중요합니다.

노가다 없이 엑셀과 **간단한 스크립트(또는 쿼리)**를 조합해 대량 데이터를 순식간에 생성하는 실무 테크닉을 정리해 드립니다.

## 📂 [테스트 수행] 대량 데이터 테스트: 1만 건의 데이터 생성 전략

### 1. 왜 대량 데이터 테스트가 필요한가?

- **페이징(Paging) 검증**: 1페이지에서 1,000페이지로 넘어갈 때 속도 저하나 데이터 중복이 없는가?

- **성능 병목 확인**: 데이터가 쌓였을 때 인덱스(INDEX)가 타지 않아 조회가 느려지지는 않는가?

- **UI 레이아웃 확인**: 데이터가 아주 많을 때 리스트가 깨지거나 무한 로딩이 걸리지 않는가?

### 2. 방법 1: 엑셀(Excel)의 '자동 채우기'와 텍스트 조합

가장 직관적이고 쉬운 방법입니다. SQL 지식이 부족해도 누구나 할 수 있습니다.

- **엑셀 시트 구성**:
  - A열: INSERT INTO users (id, name, email) VALUES (
  - B열: 숫자 자동 채우기 (1, 2, 3... 10000)
  - C열: ', '테스터, D열: 숫자 자동 채우기, E열: ', 'test, F열: 숫자 자동 채우기, G열: @example.com')

- **수식 연결**: H열에 =A1&B1&C1&D1&E1&F1&G1을 입력합니다.

- **결과물**: INSERT INTO users (id, name, email) VALUES ('1', '테스터1', 'test1 @example.com'); 와 같은 쿼리가 1만 줄 생성됩니다.

- **실행**: 생성된 텍스트를 복사해 DB 도구(DBeaver, MySQL Workbench 등)에서 실행합니다.

### 3. 방법 2: 프로시저(Stored Procedure) 스크립트 활용

DB 내부에서 반복문을 돌려 데이터를 생성하는 방법입니다. 파일 복사 과정이 없어 매우 빠릅니다.

```sql
DELIMITER $$
CREATE PROCEDURE insert_bulk_data()
BEGIN
    DECLARE i INT DEFAULT 1;
    WHILE i <= 10000 DO
        INSERT INTO items (item_name, price, stock) 
        VALUES (CONCAT('상품_', i), i * 100, 999);
        SET i = i + 1;
    END WHILE;
END$$
DELIMITER ;

CALL insert_bulk_data(); -- 프로시저 실행
```

### 4. 방법 3: 온라인 데이터 생성 도구 활용 (Mockaroo)

실제와 유사한 '그럴듯한' 데이터가 필요할 때 사용합니다. (이름, 주소, 신용카드 번호 등)

- **Mockaroo 활용**: Mockaroo 같은 사이트에서 원하는 필드와 데이터 양(예: 1,000건)을 설정하면 CSV, JSON, SQL 형태로 바로 다운로드할 수 있습니다.

- **장점**: 가명_1, 가명_2 같은 데이터가 아니라 실제 사람 이름 같은 데이터를 넣을 수 있어 UX 테스트에 유리합니다.

### 5. 대량 데이터 테스트 시 주의사항 (QA 꿀팁)

- **트랜잭션 로그 주의**: 10만 건 이상의 데이터를 한 번에 넣으면 DB 로그 용량이 꽉 차거나 서비스가 느려질 수 있습니다. 1,000건씩 나누어 넣는 것이 안전합니다.

- **데이터 초기화 계획**: 테스트가 끝난 후 DELETE FROM table WHERE name LIKE '테스터%'; 처럼 테스트 데이터를 한 번에 지울 수 있도록 **일정한 규칙(Prefix)**을 정해서 데이터를 만드세요.

- **인덱스 확인**: 데이터가 많아졌을 때 특정 정렬(최신순, 가격순)을 했을 때 속도가 3초 이상 걸린다면 개발팀에 인덱스 설정을 요청해야 합니다.

## 📝 실무 활용 예시 (성능 결함 보고)

#### [결함 요약] 
보유 포인트 리스트 조회 시 데이터 1만 건 이상 환경에서 타임아웃 발생

#### [재현 데이터] 
스크립트를 통해 user_points 테이블에 더미 데이터 10,000건 삽입.

#### [현상 확인] 
1페이지 조회 시에는 정상이나, 마지막 페이지(1,000페이지) 클릭 시 서버 응답 시간이 10초를 초과하며 504 Gateway Timeout 발생.

#### [의견] 
조회 쿼리에 페이징 처리를 위한 인덱스 최적화가 필요해 보입니다.

## 💡 테스터를 위한 한 줄 전략

"테스트 데이터의 양이 곧 테스트의 깊이를 결정합니다." 엑셀과 스크립트를 무기로 삼아, 운영 환경에서도 무너지지 않는 단단한 품질을 검증하세요.