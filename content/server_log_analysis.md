# 서버 로그(Access/Error Log)를 뒤져서 '간헐적 버그'의 흔적을 찾는 법

테스터에게 가장 까다로운 적은 "어쩌다 한 번 발생하는" 간헐적 버그입니다. 클라이언트(웹/앱) 로그에 아무것도 찍히지 않는다면, 이제 서버의 뒷마당인 Access Log와 Error Log를 뒤져볼 차례입니다.

이 가이드는 서버 개발자의 도움 없이도 테스터가 직접 리눅스 서버에 접속해 결함의 증거를 찾는 실무 시나리오를 다룹니다.

## 🛠️ 서버 로그 분석: 간헐적 버그의 스모킹 건(Smoking Gun) 찾기

### 1. 로그 파일의 위치와 종류 이해

대부분의 리눅스 기반 서버(Nginx, Apache 등)는 두 종류의 로그를 남깁니다.

- **Access Log**: 서버에 들어온 모든 요청(Request)의 기록. (성공/실패 모두 기록)

- **Error Log**: 서버 내부 로직에서 발생한 경고나 치명적인 오류 기록. (주로 4xx, 5xx 관련 상세 내용)

- **주로 쓰이는 경로**: /var/log/nginx/ 또는 /app/logs/ (프로젝트마다 다르므로 개발자에게 위치를 미리 물어봐 두는 것이 좋습니다.)

### 2. 실무 명령어: "바늘구멍에서 낙타 찾기"

수백만 줄의 로그 속에서 내가 테스트한 시간대의 기록만 찾아내는 명령어들입니다.

#### ① 실시간 모니터링 (tail -f)
재현 테스트를 수행하는 동시에 로그가 찍히는 것을 실시간으로 봅니다.

- **명령어**: tail -f access.log

- **꿀팁**: 화면을 깨끗하게 비우고 싶다면 엔터를 여러 번 쳐서 구분선을 만든 뒤 테스트를 수행하세요.

#### ② 특정 키워드로 검색 (grep)
내 아이피나 특정 API 주소로 들어온 요청만 골라냅니다.

- **명령어**: grep "POST /api/v1/payment" access.log

- **간헐적 버그 찾기**: 403이나 500 에러가 난 기록만 모으고 싶다면? grep " 500 " access.log (상태 코드 앞뒤로 공백을 넣어 검색률을 높입니다.)

#### ③ 시간대로 특정하기
"오늘 오후 2시 10분경에 발생했다"면 해당 시간대 로그만 잘라봅니다.

- **명령어**: sed -n '/2025-12-29 14:10/,/2025-12-29 14:15/p' access.log

### 3. 간헐적 버그 추적 시나리오

간헐적 버그는 주로 **'특정 조건'**이 맞을 때만 발생합니다. 로그에서 다음 패턴을 찾아보세요.

- **패턴 A (동시성 문제)**: 1초 안에 동일한 요청이 두 번 들어왔는데, 하나는 성공(200)하고 하나는 실패(500)했다면? → 중복 요청 처리 미비.

- **패턴 B (데이터 유효성)**: 특정 유저 ID(UUID)가 포함된 요청만 계속 에러가 난다면? → 특정 데이터 상태에 따른 로직 오류.

- **패턴 C (타임아웃)**: 에러 로그에 Connection timeout이나 Upstream timed out이 찍힌다면? → 서버 부하 또는 DB 응답 지연.

### 4. 실무 보고: "서버 로그를 근거로 한 결함 보고"

단순히 "가끔 안 돼요"라고 하지 말고, 로그에 찍힌 Request ID나 Timestamp를 함께 제시하세요.

#### [결함 요약] 
결제 완료 페이지 진입 시 간헐적 500 에러 발생 (재현율 약 10%)

#### [로그 분석 결과]

- **Time**: 2025-12-29 14:12:05

- **Access Log**: POST /api/pay/confirm HTTP/1.1" 500

- **Error Log**: PHP Fatal error: Allowed memory size of 134217728 bytes exhausted

#### [의견] 
특정 결제 수단 선택 시 메모리 초과 에러가 발생하는 것으로 추정됩니다. 해당 시간대 서버 로그 파일(error.log_20251229) 첨부합니다.

## 💡 테스터를 위한 한 줄 요약

"서버 로그는 거짓말을 하지 않습니다." 화면에는 아무 변화가 없더라도 서버는 비명을 지르고 있을 수 있습니다. tail과 grep 이 두 가지만 기억해도 여러분은 '기술적 역량을 갖춘 테스터'로 인정받을 것입니다.